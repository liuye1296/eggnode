webpackJsonp([15],{131:function(t,e,i){var s=i(62)(i(278),i(496),null,null,null);t.exports=s.exports},209:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{offset:{type:Number,default:50},enableInfinite:{type:Boolean,default:!0},enableRefresh:{type:Boolean,default:!0},dataList:{default:!1,required:!1},onRefresh:{type:Function,default:void 0,required:!1},onInfinite:{type:Function,default:void 0,require:!1}},data:function(){return{top:0,state:0,startX:0,startY:0,touching:!1,infiniteLoading:!1,downFlag:!1}},methods:{touchStart:function(t){this.startY=t.targetTouches[0].pageY,this.startX=t.targetTouches[0].pageX,this.startScroll=this.$el.scrollTop||0,this.touching=!0,this.dataList.noFlag=!1,this.$el.querySelector(".load-more").style.display="block"},touchMove:function(t){if(this.enableRefresh&&!this.dataList.noFlag&&this.touching){var e=t.targetTouches[0].pageY-this.startY-this.startScroll;if(e>0&&t.preventDefault(),this.top=Math.pow(e,.8)+(2===this.state?this.offset:0),2!==this.state&&(this.top>=this.offset?this.state=1:this.state=0,this.enableInfinite)){var i=this.$el.querySelector(".load-more");this.top||0!==this.state?i.style.display="none":i.style.display="block"}}},touchEnd:function(t){if(this.enableRefresh){if(this.touching=!1,2===this.state)return this.state=2,void(this.top=this.offset);this.top>=this.offset?this.refresh():(this.state=0,this.top=0);var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,s=this.startY-i,a=e-this.startX;if(Math.abs(a)<2&&Math.abs(s)<2)return void console.log("滑动距离太短");if(this.enableInfinite&&!this.infiniteLoading){var n=this.$el.clientHeight,o=this.$el.querySelector(".inner").clientHeight,l=this.$el.scrollTop,r=this.onRefresh?this.$el.querySelector(".pull-refresh").clientHeight:0,d=o-n-l-r;console.log(d+" __ "+this.offset),d<=this.offset&&0===this.state?(this.downFlag=!0,this.infinite()):(this.$el.querySelector(".load-more").style.display="none",this.downFlag=!1)}}},refresh:function(){var t=this;this.state=2,this.top=this.offset,setTimeout(function(){t.onRefresh(t.refreshDone)},1e3)},refreshDone:function(){this.state=0,this.top=0},infinite:function(){var t=this;this.infiniteLoading=!0,setTimeout(function(){t.onInfinite(t.infiniteDone)},1e3)},infiniteDone:function(t){this.infiniteLoading=!1,this.downFlag=!1}}}},210:function(t,e,i){e=t.exports=i(120)(!1),e.i(i(211),""),e.push([t.i,"",""])},211:function(t,e,i){e=t.exports=i(120)(!1),e.push([t.i,'.yo-scroll{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:100;height:auto;-webkit-overflow-scrolling:touch}.inner{width:100%;height:auto;transition-duration:.3s}.pull-refresh{position:relative;left:0;top:0;width:100%;display:flex;display:-webkit-flex}.load-more,.pull-refresh{height:.9rem;align-items:center;justify-content:center}.load-more{line-height:.9rem;display:flex;text-align:center;display:none}.nullData{color:#999;height:1rem;line-height:.8rem;text-align:center}.down-tip,.refresh-tip,.up-tip{display:none}.refresh-tip:before,.up-tip:before{content:"";display:inline-block;width:1.6rem;height:.7rem;background-size:70%!important;position:absolute;top:0;left:20%}.yo-scroll.touch .inner{transition-duration:0}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}',""])},212:function(t,e,i){var s=i(210);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(121)("0602a22c",s,!0,{})},213:function(t,e,i){function s(t){i(212)}var a=i(62)(i(209),i(214),s,"data-v-01fa7463",null);t.exports=a.exports},214:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yo-scroll",class:{down:0===t.state,up:1==t.state,refresh:2===t.state,touch:t.touching},on:{touchstart:function(e){t.touchStart(e)},touchmove:function(e){t.touchMove(e)},touchend:function(e){t.touchEnd(e)}}},[i("section",{staticClass:"inner",style:{transform:"translate3d(0, "+t.top+"px, 0)"}},[i("header",{staticClass:"pull-refresh"},[t._t("pull-refresh",[i("span",{staticClass:"down-tip"},[t._v("下拉更新")]),t._v(" "),i("span",{staticClass:"up-tip"},[t._v("松开刷新数据")]),t._v(" "),i("span",{staticClass:"refresh-tip"},[t._v("加载中……")])])],2),t._v(" "),t._t("default"),t._v(" "),i("footer",{staticClass:"load-more"},[t._t("load-more",[i("span",{directives:[{name:"show",rawName:"v-show",value:!1===t.downFlag,expression:"downFlag === false"}]},[t._v("上拉加载更多")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!0===t.downFlag,expression:"downFlag === true"}]},[t._v("加载中……")])])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dataList.noFlag,expression:"dataList.noFlag"}],staticClass:"nullData"},[t._v("暂无更多数据")])],2)])},staticRenderFns:[]}},234:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{onCole:{type:Function,default:void 0,required:!1}},data:function(){return{brandlist:{},molde_type:"1",pgae_type:1,key_word:"",brandlist_key:[],brandlist_keylsit:["brand_list_c","brand_list_p","brand_list_s"]}},watch:{key_word:function(){var t={key_word:this.key_word};this.key_word?this.getinit(t):this.brandlist_key=[]}},created:function(){this.getinit({})},methods:{cole:function(){this.onCole()},getinit:function(t){var e=this;e.Invok("88115",t,function(t){if(0!=t.code)return e.$weui.alert(t.msg),!1;2==e.pgae_type?e.brandlist_key=t.success:e.brandlist=t.success})},click_abc:function(t){var e=t.target;if("DIV"==e.tagName){var i=e.getAttribute("value"),s=i+"_"+this.molde_type,a=document.getElementById(s);a&&a.scrollIntoView(!0)}},xz_brand:function(t){var e=t.target;if(e.className.indexOf("molde-li")>=0){var i={};i.brand_id=e.getAttribute("id_")||"",i.brand_name=e.getAttribute("name_")||"",this.key_word="",this.pgae_type=1,this.onCole(i)}},all_brand:function(){this.onCole({brand_id:"",brand_name:"全部车型"})},select_type:function(t,e){this[t]=e,this.key_word=""}}}},243:function(t,e,i){var s=i(62)(i(234),i(245),null,null,null);t.exports=s.exports},245:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.pgae_type,expression:"pgae_type==1"}]},[i("div",{staticClass:"the_model_2_pos",on:{click:t.click_abc}},[i("div",{attrs:{value:"id_A"}},[t._v("A")]),t._v(" "),i("div",{attrs:{value:"id_B"}},[t._v("B")]),t._v(" "),i("div",{attrs:{value:"id_C"}},[t._v("C")]),t._v(" "),i("div",{attrs:{value:"id_D"}},[t._v("D")]),t._v(" "),i("div",{attrs:{value:"id_E"}},[t._v("E")]),t._v(" "),i("div",{attrs:{value:"id_F"}},[t._v("F")]),t._v(" "),i("div",{attrs:{value:"id_G"}},[t._v("G")]),t._v(" "),i("div",{attrs:{value:"id_H"}},[t._v("H")]),t._v(" "),i("div",{attrs:{value:"id_I"}},[t._v("I")]),t._v(" "),i("div",{attrs:{value:"id_J"}},[t._v("J")]),t._v(" "),i("div",{attrs:{value:"id_K"}},[t._v("K")]),t._v(" "),i("div",{attrs:{value:"id_L"}},[t._v("L")]),t._v(" "),i("div",{attrs:{value:"id_M"}},[t._v("M")]),t._v(" "),i("div",{attrs:{value:"id_N"}},[t._v("N")]),t._v(" "),i("div",{attrs:{value:"id_O"}},[t._v("O")]),t._v(" "),i("div",{attrs:{value:"id_P"}},[t._v("P")]),t._v(" "),i("div",{attrs:{value:"id_Q"}},[t._v("Q")]),t._v(" "),i("div",{attrs:{value:"id_R"}},[t._v("R")]),t._v(" "),i("div",{attrs:{value:"id_S"}},[t._v("S")]),t._v(" "),i("div",{attrs:{value:"id_T"}},[t._v("T")]),t._v(" "),i("div",{attrs:{value:"id_U"}},[t._v("U")]),t._v(" "),i("div",{attrs:{value:"id_V"}},[t._v("V")]),t._v(" "),i("div",{attrs:{value:"id_W"}},[t._v("W")]),t._v(" "),i("div",{attrs:{value:"id_X"}},[t._v("X")]),t._v(" "),i("div",{attrs:{value:"id_Y"}},[t._v("Y")]),t._v(" "),i("div",{attrs:{value:"id_Z"}},[t._v("Z")])]),t._v(" "),i("div",{staticClass:"head"},[i("a",{staticClass:"head-jt",on:{click:t.cole}}),t._v(" "),i("div",{staticClass:"head-text"},[t._v("选择品牌车型")]),t._v(" "),i("a",{staticClass:"the_model_all",on:{click:function(e){t.select_type("pgae_type","2")}}},[t._v("搜索")])]),t._v(" "),i("div",{staticClass:"center index-center"},[i("div",{staticClass:"chj-navbar chj_cell"},[i("div",{staticClass:"chj-navbar__item"},[i("a",{staticClass:"index-taba",class:{click:1==t.molde_type},on:{click:function(e){t.select_type("molde_type","1")}}},[t._v("乘用车")])]),t._v(" "),i("div",{staticClass:"chj-navbar__item"},[i("a",{staticClass:"index-taba",class:{click:2==t.molde_type},on:{click:function(e){t.select_type("molde_type","2")}}},[t._v("平行进口车")])]),t._v(" "),i("div",{staticClass:"chj-navbar__item"},[i("a",{staticClass:"index-taba",class:{click:3==t.molde_type},on:{click:function(e){t.select_type("molde_type","3")}}},[t._v("商用卡车")])])]),t._v(" "),i("div"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.molde_type,expression:"molde_type==1"}]},t._l(t.brandlist.brand_list_c,function(e,s){return i("div",t._l(e,function(e,s,a){return 0!=e.length?i("div",{attrs:{id:"id_"+s+"_"+t.molde_type}},[i("div",{staticClass:"addresslist-zm"},[t._v(t._s(s))]),t._v(" "),i("div",[i("ul",{staticClass:"model_ul",on:{click:t.xz_brand}},t._l(e,function(s,a){return i("li",{staticClass:"molde-li ",class:{hassub:a+1!=e.length},attrs:{id_:s.brand_id,name_:s.brand_name}},[i("img",{staticClass:"index-czhf-leftlogo",attrs:{src:s.brand_logo}}),t._v(" "),i("a",[t._v(t._s(s.brand_name))])])}))])]):t._e()}))})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.molde_type,expression:"molde_type==2"}]},t._l(t.brandlist.brand_list_p,function(e,s){return i("div",t._l(e,function(e,s,a){return 0!=e.length?i("div",[i("div",{staticClass:"addresslist-zm",attrs:{id:"id_"+s+"_"+t.molde_type}},[t._v(t._s(s))]),t._v(" "),i("div",[i("ul",{staticClass:"model_ul",on:{click:t.xz_brand}},t._l(e,function(s,a){return i("li",{staticClass:"molde-li",class:{hassub:a+1!=e.length},attrs:{id_:s.brand_id,name_:s.brand_name}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.brand_logo,expression:"value_.brand_logo"}],staticClass:"index-czhf-leftlogo"}),t._v(" "),i("a",[t._v(t._s(s.brand_name))])])}))])]):t._e()}))})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.molde_type,expression:"molde_type==3"}]},t._l(t.brandlist.brand_list_s,function(e,s){return i("div",t._l(e,function(e,s,a){return 0!=e.length?i("div",[i("div",{staticClass:"addresslist-zm",attrs:{id:"id_"+s+"_"+t.molde_type}},[t._v(t._s(s))]),t._v(" "),i("div",[i("ul",{staticClass:"model_ul",on:{click:t.xz_brand}},t._l(e,function(e,s){return i("li",{staticClass:"molde-li hassub",attrs:{id_:e.brand_id,name_:e.brand_name}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.brand_logo,expression:"value.brand_logo"}],staticClass:"index-czhf-leftlogo"}),t._v(" "),i("a",[t._v(t._s(e.brand_name))])])}))])]):t._e()}))}))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.pgae_type,expression:"pgae_type==2"}]},[i("div",{staticClass:"head"},[i("a",{staticClass:"head-jt",on:{click:function(e){t.select_type("pgae_type","1")}}}),t._v(" "),i("div",{staticClass:"model-head-text"},[i("div",{staticClass:"model-search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.key_word,expression:"key_word"}],attrs:{placeholder:"请输入品牌名搜索"},domProps:{value:t.key_word},on:{input:function(e){e.target.composing||(t.key_word=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"center index-center"},[i("ul",{on:{click:t.xz_brand}},t._l(t.brandlist_keylsit,function(e,s){return i("div",t._l(t.brandlist_key[e],function(e,s){return i("div",t._l(e,function(e,s,a){return 0!=e.length?i("div",t._l(e,function(e,s){return i("li",{key:e.brand_id,staticClass:"molde-li hassub",attrs:{id_:e.brand_id,name_:e.brand_name}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.brand_logo,expression:"value.brand_logo"}],staticClass:"index-czhf-leftlogo"}),t._v(" "),i("a",[t._v(t._s(e.brand_name))])])})):t._e()}))}))}))])])])},staticRenderFns:[]}},278:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(32),a=i.n(s);e.default={name:"czactivity",data:function(){return{page_num:1,page_size:5,pageStart:1,pageEnd:0,scrollData:{noFlag:!1},promotion_list:[],brand_name:"全部品牌",brand_id:"",city_id:"",county_id:"",county_name:"",county_list:[],the_model:"1"}},destroyed:function(){sessionStorage.removeItem("the_dx_type")},mounted:function(){this.fx()},components:{"v-scroll":i(213),"v-modelhtml":i(243)},watch:{brand_id:function(){var t={brand_id:this.brand_id||"",page_num:this.page_num,page_size:this.page_size,city_id:this.city_id,county_id:this.county_id};this.getinit(t)},county_id:function(t){var e={brand_id:this.brand_id||"",page_num:this.page_num,page_size:this.page_size,city_id:this.city_id,county_id:this.county_id};this.getinit(e)}},created:function(){if(this.brand_id=this.$route.query.brand_id||"",this.brand_name=this.$route.query.brand_name||"全部品牌",this.county_id=this.$route.query.county_id||"",this.county_name=this.$route.query.county_name||"全部地区",this.city_id=localStorage.getItem("city_id"+this.$util.projectOnlyName)||"",this.get_county(),"all"==sessionStorage.getItem("the_dx_type"))sessionStorage.removeItem("the_dx_type"),this.select_type("the_model","2");else if(""==this.brand_id&&""==this.county_id){var t={brand_id:this.brand_id||"",page_num:this.page_num,page_size:this.page_size,city_id:this.city_id,county_id:this.county_id};this.getinit(t)}},methods:{getinit:function(t){var e=this,i=e.$weui.loading("数据加载中...");e.Invok("88101",t,function(s){if(i.hide(),0!=s.code)return e.$weui.alert(s.msg),!1;t.page_num===e.pageStart?e.promotion_list=s.success.promotion_list:e.promotion_list=e.promotion_list.concat(s.success.promotion_list),e.pageEnd=s.success.pageCount-0||1,e.page_num=s.success.currentPageIndex-0||1})},get_county:function(){var t=this;t.Invok("88116",{city_id:"dc694d3fea5d11e4966efa163e799362"},function(e){if(0!=e.code)return t.$weui.alert(e.msg),!1;for(var i=e.success.county_list,s=[],a=0;a<i.length;a++)s.push({label:i[a].county_name,value:i[a].county_id});t.county_list=s})},go_index:function(){this.$destroy(),window.history.go(-1)},select_type:function(t,e){this[t]=e},onCole:function(t){if(t){if(this.brand_id==t.brand_id&&""==t.brand_id){var e={brand_id:this.brand_id||"",page_num:this.page_num,page_size:this.page_size,city_id:this.city_id,county_id:this.county_id};this.getinit(e)}this.brand_id=t.brand_id,this.brand_name=t.brand_name}this.select_type("the_model","1")},select_county:function(){var t=this;t.$weui.picker(t.county_list,{onChange:function(t){},onConfirm:function(e){t.county_name=e[0].label,t.county_id=e[0].value}})},onRefresh:function(t){var e={city_id:this.city_id,county_id:this.county_id,page_num:this.pageStart,page_size:this.page_size,brand_id:this.brand_id||""};this.getinit(e),t()},onInfinite:function(t){var e=this.$el.querySelector(".load-more");if(this.page_num==this.pageEnd)e.style.display="none",this.scrollData.noFlag=!0;else{var i=this.page_num,s={city_id:this.city_id,county_id:this.county_id,page_num:i+1,page_size:this.page_size,brand_id:this.brand_id||""};this.getinit(s),e.style.display="none"}t()},fx:function(){var t=this,e=(localStorage.getItem("user_id"+t.$util.projectOnlyName)||t.$route.query.to_user_id,encodeURIComponent(window.location.href.split("#")[0]));t.$http.get(t.$util.serviceUrl+"/wechat/getJsapiTicket.do?ticketurl="+e).then(function(e){if(e.data){var i=e.data,s=i.appId,n=i.timestamp,o=i.noncestr,l=i.signature,r=["onMenuShareTimeline","onMenuShareAppMessage"];t.$wx.config({debug:!1,appId:s,timestamp:n,nonceStr:o,signature:l,jsApiList:r}),t.$wx.ready(function(){t.$wx.onMenuShareTimeline({title:"车惠集，买车真实惠",link:window.location.href.split("#")[0]+"#/cxactivity",imgUrl:"https://isalesimg.oss-cn-shanghai.aliyuncs.com/data/1519975237646.png",success:function(){}}),t.$wx.onMenuShareAppMessage({title:"车惠集，有车真实惠",desc:"8折洗车，88折加油，888元新车安全大礼包，万元品质生活大礼包",link:window.location.href.split("#")[0]+"#/cxactivity",imgUrl:"https://isalesimg.oss-cn-shanghai.aliyuncs.com/data/1519975237646.png",success:function(){}})}),t.$wx.error(function(t){a()(t)})}},function(e){t.$weui.alert(e)})}}}},496:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"cxactivity"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.the_model,expression:"the_model==1"}]},[i("div",{staticClass:"head"},[i("a",{staticClass:"head-jt",on:{click:t.go_index}}),t._v(" "),i("div",{staticClass:"head-text"},[t._v("促销活动")])]),t._v(" "),i("div",{staticClass:"center index-center"},[i("div",{staticClass:"cxactivity-input-div"},[i("div",{staticClass:"cxactivity-input-ul"},[i("div",{staticClass:"cxactivity-input-li",on:{click:function(e){t.select_type("the_model","2")}}},[i("div",{staticClass:"cxactput-div"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.brand_name,expression:"brand_name"}],attrs:{disabled:"disabled"},domProps:{value:t.brand_name},on:{input:function(e){e.target.composing||(t.brand_name=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"cxactivity-input-li",on:{click:t.select_county}},[i("div",{staticClass:"cxactput-div"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.county_name,expression:"county_name"}],attrs:{disabled:"disabled"},domProps:{value:t.county_name},on:{input:function(e){e.target.composing||(t.county_name=e.target.value)}}})])])])]),t._v(" "),i("v-scroll",{staticClass:"cxactivity_div_first",attrs:{"on-refresh":t.onRefresh,"on-infinite":t.onInfinite,dataList:t.scrollData}},[i("div",{staticClass:"cxhd_alldiv"},[t._l(t.promotion_list,function(e,s){return i("router-link",{key:s,staticClass:"cxhd_div chj_cell",attrs:{to:{path:"cxactivityxx",query:{activity_id:e.activity_id,brand_id:e.brand_id}}}},[i("div",{staticClass:"cxhd_logo position"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic_url,expression:"val.pic_url"}]}),t._v(" "),i("div",{staticClass:" hd-logo-bag-div-ab"},[i("div",{staticClass:"hd-logo-bag-div-ab-div clearfix"},[i("div",{staticClass:"left"},[t._v("活动日期："),i("span",{attrs:{id:"start_time"}},[t._v(t._s(e.start_time))]),t._v(" 至 "),i("span",{attrs:{id:"end_time"}},[t._v(t._s(e.end_time))])]),t._v(" "),i("div",{staticClass:"right"},[t._v("已有"),i("span",{staticClass:"colo-r",attrs:{id:"people_num"}},[t._v(t._s(e.people_num||"0"))]),t._v("人已报名")])])])]),t._v(" "),i("div",{staticClass:"clearfix position"},[i("div",{staticClass:"left"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.logo_url,expression:"val.logo_url"}],staticClass:"index-mflex-leftlogo"})]),t._v(" "),i("div",{staticClass:"left"},[i("div",{staticClass:"sub_title"},[t._v(t._s(e.title))]),t._v(" "),i("div",[t._v(t._s(e.station_name))])]),t._v(" "),i("div",{staticClass:"cxhd_adder_city"},[t._v(t._s(e.county))])])])}),t._v(" "),t.promotion_list&&0!=t.promotion_list.length?t._e():i("div",{staticStyle:{"text-align":"center"}},[t._v("\n              暂无促销活动\n            ")])],2)])],1)]),t._v(" "),i("transition",{attrs:{name:"fade",mode:"in-out"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.the_model,expression:"the_model==2"}]},[i("v-modelhtml",{attrs:{"on-cole":t.onCole}})],1)])],1)},staticRenderFns:[]}}});