webpackJsonp([19],{153:function(t,e,s){var i=s(62)(s(300),s(423),null,null,null);t.exports=i.exports},209:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{offset:{type:Number,default:50},enableInfinite:{type:Boolean,default:!0},enableRefresh:{type:Boolean,default:!0},dataList:{default:!1,required:!1},onRefresh:{type:Function,default:void 0,required:!1},onInfinite:{type:Function,default:void 0,require:!1}},data:function(){return{top:0,state:0,startX:0,startY:0,touching:!1,infiniteLoading:!1,downFlag:!1}},methods:{touchStart:function(t){this.startY=t.targetTouches[0].pageY,this.startX=t.targetTouches[0].pageX,this.startScroll=this.$el.scrollTop||0,this.touching=!0,this.dataList.noFlag=!1,this.$el.querySelector(".load-more").style.display="block"},touchMove:function(t){if(this.enableRefresh&&!this.dataList.noFlag&&this.touching){var e=t.targetTouches[0].pageY-this.startY-this.startScroll;if(e>0&&t.preventDefault(),this.top=Math.pow(e,.8)+(2===this.state?this.offset:0),2!==this.state&&(this.top>=this.offset?this.state=1:this.state=0,this.enableInfinite)){var s=this.$el.querySelector(".load-more");this.top||0!==this.state?s.style.display="none":s.style.display="block"}}},touchEnd:function(t){if(this.enableRefresh){if(this.touching=!1,2===this.state)return this.state=2,void(this.top=this.offset);this.top>=this.offset?this.refresh():(this.state=0,this.top=0);var e=t.changedTouches[0].pageX,s=t.changedTouches[0].pageY,i=this.startY-s,o=e-this.startX;if(Math.abs(o)<2&&Math.abs(i)<2)return void console.log("滑动距离太短");if(this.enableInfinite&&!this.infiniteLoading){var n=this.$el.clientHeight,a=this.$el.querySelector(".inner").clientHeight,r=this.$el.scrollTop,l=this.onRefresh?this.$el.querySelector(".pull-refresh").clientHeight:0,h=a-n-r-l;console.log(h+" __ "+this.offset),h<=this.offset&&0===this.state?(this.downFlag=!0,this.infinite()):(this.$el.querySelector(".load-more").style.display="none",this.downFlag=!1)}}},refresh:function(){var t=this;this.state=2,this.top=this.offset,setTimeout(function(){t.onRefresh(t.refreshDone)},1e3)},refreshDone:function(){this.state=0,this.top=0},infinite:function(){var t=this;this.infiniteLoading=!0,setTimeout(function(){t.onInfinite(t.infiniteDone)},1e3)},infiniteDone:function(t){this.infiniteLoading=!1,this.downFlag=!1}}}},210:function(t,e,s){e=t.exports=s(120)(!1),e.i(s(211),""),e.push([t.i,"",""])},211:function(t,e,s){e=t.exports=s(120)(!1),e.push([t.i,'.yo-scroll{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:100;height:auto;-webkit-overflow-scrolling:touch}.inner{width:100%;height:auto;transition-duration:.3s}.pull-refresh{position:relative;left:0;top:0;width:100%;display:flex;display:-webkit-flex}.load-more,.pull-refresh{height:.9rem;align-items:center;justify-content:center}.load-more{line-height:.9rem;display:flex;text-align:center;display:none}.nullData{color:#999;height:1rem;line-height:.8rem;text-align:center}.down-tip,.refresh-tip,.up-tip{display:none}.refresh-tip:before,.up-tip:before{content:"";display:inline-block;width:1.6rem;height:.7rem;background-size:70%!important;position:absolute;top:0;left:20%}.yo-scroll.touch .inner{transition-duration:0}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}',""])},212:function(t,e,s){var i=s(210);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(121)("0602a22c",i,!0,{})},213:function(t,e,s){function i(t){s(212)}var o=s(62)(s(209),s(214),i,"data-v-01fa7463",null);t.exports=o.exports},214:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"yo-scroll",class:{down:0===t.state,up:1==t.state,refresh:2===t.state,touch:t.touching},on:{touchstart:function(e){t.touchStart(e)},touchmove:function(e){t.touchMove(e)},touchend:function(e){t.touchEnd(e)}}},[s("section",{staticClass:"inner",style:{transform:"translate3d(0, "+t.top+"px, 0)"}},[s("header",{staticClass:"pull-refresh"},[t._t("pull-refresh",[s("span",{staticClass:"down-tip"},[t._v("下拉更新")]),t._v(" "),s("span",{staticClass:"up-tip"},[t._v("松开刷新数据")]),t._v(" "),s("span",{staticClass:"refresh-tip"},[t._v("加载中……")])])],2),t._v(" "),t._t("default"),t._v(" "),s("footer",{staticClass:"load-more"},[t._t("load-more",[s("span",{directives:[{name:"show",rawName:"v-show",value:!1===t.downFlag,expression:"downFlag === false"}]},[t._v("上拉加载更多")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!0===t.downFlag,expression:"downFlag === true"}]},[t._v("加载中……")])])],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dataList.noFlag,expression:"dataList.noFlag"}],staticClass:"nullData"},[t._v("暂无更多数据")])],2)])},staticRenderFns:[]}},300:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(32),o=s.n(i);e.default={name:"Myvoucher",data:function(){return{page_num:1,page_size:5,pageStart:1,pageEnd:0,scrollData:{noFlag:!1},station_list:[]}},components:{"v-scroll":s(213)},created:function(){localStorage.getItem("user_id"+this.$util.projectOnlyName)||(location.href=window.location.href.split("#")[0]+"#/login?redirect="+this.$route.fullPath);var t={page_num:this.page_num,page_size:this.page_size};this.get_init(t)},methods:{get_init:function(t){var e=this;e.Invok("88110",t,function(s){if(0!=s.code)return e.$weui.alert(s.msg),!1;t.page_num===e.pageStart?e.station_list=s.success.station_list||[]:e.station_list=e.station_list.concat(s.success.station_list),e.pageEnd=s.success.pageCount-0||1,e.page_num=s.success.currentPageIndex-0||1})},onRefresh:function(t){var e={page_num:this.pageStart,page_size:this.page_size};this.get_init(e),t()},onInfinite:function(t){var e=this.$el.querySelector(".load-more");if(this.page_num==this.pageEnd)e.style.display="none",this.scrollData.noFlag=!0;else{var s=this.page_num,i={page_num:s+1,page_size:this.page_size};this.get_init(i),e.style.display="none"}t()},go_myvoucherxq:function(t){sessionStorage.setItem("voucher_list"+this.$util.projectOnlyName,o()(this.station_list[t].voucher_list)),this.$router.push({path:"/myvoucherxq"})}}}},423:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"myvoucher"}},[s("div",{staticClass:"head"},[s("router-link",{staticClass:"head-jt",attrs:{to:{path:"mycenter",query:this.$route.query}}}),t._v(" "),s("div",{staticClass:"head-text"},[t._v("我的奖励金")])],1),t._v(" "),s("div",{staticClass:"center"},[s("v-scroll",{attrs:{"on-refresh":t.onRefresh,"on-infinite":t.onInfinite,dataList:t.scrollData}},[s("div",{staticClass:"myvoucher-all"},[t._l(t.station_list,function(e,i){return s("div",{staticClass:"myvoucher-all-fr"},[s("div",{staticClass:"myvoucher-topbor"},[s("div",{staticClass:"myvoucher-text",on:{click:function(e){t.go_myvoucherxq(i)}}},[s("span",[t._v(t._s(e.all_prize))]),t._v(" "),s("a",[t._v("元")]),t._v("\n              本店可优惠总额")])]),t._v(" "),s("div",{staticClass:"myvoucher-botbor"},[s("div",[s("img",{staticClass:"myvoucher-botbor-img",attrs:{src:e.station_logo||""}})]),t._v(" "),s("div",[s("div",[t._v(" 店名： "+t._s(e.station_name))]),t._v(" "),s("div",[t._v(" 地址： "+t._s(e.station_address))]),t._v(" "),e.brand_name?s("div",[t._v("意向品牌："+t._s(e.brand_name))]):t._e()])]),t._v(" "),s("div",{staticClass:"myvoucher-border"},[s("div",{staticClass:"myvoucher-botbor "},[t._v("\n              专属顾问："+t._s(e.user_name)+"\n              "),s("a",{staticClass:"myvoucher-icon-phone",attrs:{href:"tel:"+e.bus_link_phone}}),t._v(" "),s("a",{staticClass:"myvoucher-icon-dx",attrs:{href:"sms:"+e.bus_link_phone}})])])])}),t._v(" "),t.station_list&&0!=t.station_list.length?t._e():s("div",[t._v("\n          暂无奖励金。需要在车商报名后才能在参与销售过程中获得奖励金。接听车商电话1分钟10元钱，邀约到店50元，接受试驾100元，上限500元。\n        ")])],2)])],1)])},staticRenderFns:[]}}});