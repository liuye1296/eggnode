webpackJsonp([56],{201:function(e,t,i){var o=i(62)(i(356),i(495),null,null,null);e.exports=o.exports},356:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"",data:function(){return{is_botton:!0,is_botton_text:"付款",val:{},open_id:""}},created:function(){if(this.$route.query.order_id?this.getinit():this.$weui.alert("订单id为空"),this.open_id=localStorage.getItem("open_id"+this.$util.projectOnlyName)||"",""==this.open_id)if(this.open_id=this.$route.query.open_id||"",""==this.open_id){var e=window.location.href;location.href=this.$util.serviceUrl+"/wechat/userAuth.do?redirectUri="+encodeURIComponent(e)}else localStorage.setItem("open_id"+this.$util.projectOnlyName,this.open_id)},methods:{getinit:function(){var e=this,t={order_id:e.$route.query.order_id};e.Invok("88328",t,function(t){if(0!=t.code)return e.$weui.alert(t.msg),e.is_botton=!1,!1;e.val=t.success})},gogo:function(){var e=this,t={order_id:e.$route.query.order_id,open_id:this.open_id,washer_id:e.val.washer_id,service_id:e.val.service_id,service_price:e.val.service_price,staff_id:e.val.staff_id};e.is_botton=!1,e.is_botton_text="付款中...",e.Invok("88329",t,function(i){if(0!=i.code)return e.is_botton=!0,e.$weui.alert(i.msg),!1;var o=function(){WeixinJSBridge.invoke("getBrandWCPayRequest",n,function(i){"get_brand_wcpay_request:ok"==i.err_msg?(sessionStorage.setItem("washer_name",e.val.washer_name),sessionStorage.setItem("service_id",t.service_id),sessionStorage.setItem("prize_id",t.prize_id),e.is_botton_text="已付款",e.$router.push({path:"/useorderok",query:{washer_name:e.val.washer_name}})):"get_brand_wcpay_request:cancel"==i.err_msg?(e.is_botton=!0,e.$weui.alert("支付取消")):(e.is_botton=!0,e.$weui.alert("支付失败:"+i.err_desc))})},s=i.success,n={appId:s.appId,timeStamp:s.timeStamp,nonceStr:s.nonceStr,package:s.package,signType:s.signType,paySign:s.paySign};"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",o,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",o),document.attachEvent("onWeixinJSBridgeReady",o)):o()})}}}},495:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"useorderxqbyphone"}},[i("div",{staticClass:"useorderxqbyphone_top"},[i("div",[e._v("付款给店铺")]),e._v(" "),i("div",{staticStyle:{color:"#999"}},[e._v(e._s(e.val.washer_name))])]),e._v(" "),i("div",{staticClass:"bjcolor-wite"},[i("div",{staticClass:"useorderxqbyphone-text hassub"},[i("div",{staticStyle:{"font-size":"48px",color:"#00b7b2"}},[e._v("￥"+e._s(e.val.service_price||0))]),e._v(" "),i("div",{staticStyle:{"font-size":"20px"}},[e._v(e._s(e.val.service_title))])]),e._v(" "),i("div",{staticClass:"botton_0-hr"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_botton,expression:"is_botton"}],staticClass:"botton_0",on:{click:e.gogo}},[e._v("付款")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.is_botton,expression:"!is_botton"}],staticClass:"botton_0 click"},[e._v(e._s(e.is_botton_text))]),e._v(" "),i("div",{staticClass:"botton_0-hr"})])])},staticRenderFns:[]}}});